# 番茄计时器桌面应用

一个功能完整的桌面番茄计时器软件，支持定制化壁纸功能。

## 功能特点

- ✅ 标准番茄工作法（25分钟工作，5分钟短休息，15分钟长休息）
- ✅ 美观的图形界面
- ✅ 进度条显示
- ✅ **自定义铃声功能**（支持WAV/MP3格式，可自定义铃声文件）
- ✅ 声音提醒（最后10秒和结束时）
- ✅ 统计功能（记录完成的番茄数）
- ✅ **定制化壁纸功能**（工作/休息时自动切换壁纸）
- ✅ 模式切换（工作/短休息/长休息）

## 安装要求

- Python 3.7 或更高版本
- Windows 操作系统（壁纸功能和通知功能需要Windows系统）

## 安装步骤

1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 运行程序：
```bash
python pomodoro_timer.py
```

## 壁纸功能说明

- **选择壁纸**：点击"选择壁纸"按钮，选择你喜欢的图片文件（支持JPG、PNG、BMP等格式）
- **应用壁纸**：点击"应用壁纸"按钮，立即将选中的图片设置为桌面壁纸
- **自动切换**：程序会在工作模式切换到休息模式时自动应用壁纸，从休息模式切换回工作模式时自动恢复原始壁纸
- **恢复默认**：点击"恢复默认"按钮，可以恢复到你使用程序前的原始壁纸
- **配置保存**：程序会自动保存你的壁纸设置和番茄计数，下次启动时会自动加载

## 使用方法

1. **选择模式**：点击"工作"、"短休息"或"长休息"按钮选择计时模式
2. **开始计时**：点击"开始"按钮开始倒计时
3. **暂停/继续**：计时过程中可以暂停和继续
4. **重置**：点击"重置"按钮重置当前计时
5. **设置壁纸**：
   - 点击"选择壁纸"选择图片文件
   - 点击"应用壁纸"立即应用壁纸
   - 计时器会在工作/休息模式切换时自动应用/恢复壁纸

6. **设置铃声**：
   - 点击"选择铃声"选择音频文件（支持WAV、MP3格式）
   - 点击"测试铃声"可以试听铃声效果
   - 点击"使用系统提示音"可以切换回系统默认提示音
   - 计时结束时会播放3次铃声，最后10秒会播放1次提示音

## 功能说明

- **工作模式**：25分钟倒计时，完成后自动切换到休息模式
- **短休息**：5分钟倒计时
- **长休息**：15分钟倒计时（每完成4个番茄后自动切换）
- **统计功能**：自动记录完成的番茄数量
- **声音提醒**：
  - 倒计时最后10秒会播放提示音
  - 计时结束时会播放3次铃声
  - 支持自定义铃声文件（WAV/MP3格式）
  - 如果没有设置自定义铃声，则使用系统提示音

## 打包成可执行文件

如果你想将程序打包成exe文件，方便在没有Python环境的电脑上使用：

### 方法一：使用批处理脚本（最简单）

1. **双击运行 `打包程序.bat`**
   - 脚本会自动安装PyInstaller（如果未安装）
   - 自动清理旧文件并开始打包
   - 打包完成后，exe文件在 `dist\番茄计时器.exe`

### 方法二：使用Python脚本

```bash
python build_exe.py
```

### 方法三：手动打包

```bash
# 1. 安装PyInstaller
pip install pyinstaller

# 2. 执行打包
pyinstaller --name=番茄计时器 --onefile --windowed pomodoro_timer.py
```

打包完成后，`dist\番茄计时器.exe` 就是可执行文件，可以直接运行或复制到其他Windows电脑使用。

**详细打包说明请查看 `打包说明.md`**

## 注意事项

- 壁纸功能仅在Windows系统上可用
- 建议使用JPG、PNG格式的图片作为壁纸
- 恢复默认壁纸功能需要手动在系统设置中操作
- 打包后的exe文件大小约30-50MB（包含所有依赖）
- 首次运行可能被杀毒软件拦截，添加信任即可

## 开发信息

- 开发语言：Python
- GUI框架：Tkinter
- 图片处理：Pillow
- 系统API：ctypes (Windows)
- 打包工具：PyInstaller

